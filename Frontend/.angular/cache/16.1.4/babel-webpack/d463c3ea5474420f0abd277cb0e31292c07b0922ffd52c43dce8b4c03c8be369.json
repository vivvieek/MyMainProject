{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/ViveK/Documents/FSD/Main_project/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/shared/csvdata.service\";\nimport * as i2 from \"@angular/common\";\nfunction CsvComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.message);\n  }\n}\nexport class CsvComponent {\n  constructor(fileuploadserv) {\n    this.fileuploadserv = fileuploadserv;\n    this.selectedFile = null;\n    this.message = null;\n  }\n  onFileChange(event) {\n    this.selectedFile = event.target.files[0];\n  }\n  uploadFile() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (!_this.selectedFile) {\n        return;\n      }\n      try {\n        const response = yield _this.fileuploadserv.upload(_this.selectedFile);\n        _this.message = response.success;\n      } catch (error) {\n        _this.message = 'An error occurred during upload.';\n      }\n    })();\n  }\n}\nCsvComponent.ɵfac = function CsvComponent_Factory(t) {\n  return new (t || CsvComponent)(i0.ɵɵdirectiveInject(i1.CsvdataService));\n};\nCsvComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CsvComponent,\n  selectors: [[\"app-csv\"]],\n  decls: 7,\n  vars: 1,\n  consts: [[1, \"csvbox\"], [\"type\", \"file\", 3, \"change\"], [3, \"click\"], [4, \"ngIf\"]],\n  template: function CsvComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n      i0.ɵɵtext(2, \"CSV File Upload\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"input\", 1);\n      i0.ɵɵlistener(\"change\", function CsvComponent_Template_input_change_3_listener($event) {\n        return ctx.onFileChange($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function CsvComponent_Template_button_click_4_listener() {\n        return ctx.uploadFile();\n      });\n      i0.ɵɵtext(5, \"Upload\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(6, CsvComponent_div_6_Template, 2, 1, \"div\", 3);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.message);\n    }\n  },\n  dependencies: [i2.NgIf],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","message","CsvComponent","constructor","fileuploadserv","selectedFile","onFileChange","event","target","files","uploadFile","_this","_asyncToGenerator","response","upload","success","error","ɵɵdirectiveInject","i1","CsvdataService","selectors","decls","vars","consts","template","CsvComponent_Template","rf","ctx","ɵɵlistener","CsvComponent_Template_input_change_3_listener","$event","CsvComponent_Template_button_click_4_listener","ɵɵtemplate","CsvComponent_div_6_Template","ɵɵproperty"],"sources":["C:\\Users\\ViveK\\Documents\\FSD\\Main_project\\Frontend\\src\\app\\pages\\csv\\csv.component.ts","C:\\Users\\ViveK\\Documents\\FSD\\Main_project\\Frontend\\src\\app\\pages\\csv\\csv.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { CsvdataService } from 'src/app/shared/csvdata.service';\r\n\r\n@Component({\r\n  selector: 'app-csv',\r\n  templateUrl: './csv.component.html',\r\n  styleUrls: ['./csv.component.css']\r\n})\r\nexport class CsvComponent {\r\n  selectedFile:File|null=null;\r\n  message:string|null=null;\r\n\r\n  constructor(private fileuploadserv:CsvdataService) {}\r\n\r\n  onFileChange(event:any):void{\r\n    this.selectedFile=event.target.files[0];\r\n  }\r\n\r\n  async uploadFile():Promise<void>{\r\n    if(!this.selectedFile){\r\n      return;\r\n    }\r\n    try{\r\n      const response = await this.fileuploadserv.upload(this.selectedFile);\r\n      this.message = response.success;\r\n    } catch (error) {\r\n      this.message = 'An error occurred during upload.';\r\n    }\r\n  }\r\n\r\n}\r\n","\r\n<div class=\"csvbox\">\r\n  <h2>CSV File Upload</h2>\r\n  <input type=\"file\" (change)=\"onFileChange($event)\">\r\n  <button (click)=\"uploadFile()\">Upload</button>\r\n  <div *ngIf=\"message\">{{ message }}</div>\r\n</div>"],"mappings":";;;;;;ICKEA,EAAA,CAAAC,cAAA,UAAqB;IAAAD,EAAA,CAAAE,MAAA,GAAa;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;;IAAnBH,EAAA,CAAAI,SAAA,GAAa;IAAbJ,EAAA,CAAAK,iBAAA,CAAAC,MAAA,CAAAC,OAAA,CAAa;;;ADGpC,OAAM,MAAOC,YAAY;EAIvBC,YAAoBC,cAA6B;IAA7B,KAAAA,cAAc,GAAdA,cAAc;IAHlC,KAAAC,YAAY,GAAW,IAAI;IAC3B,KAAAJ,OAAO,GAAa,IAAI;EAE4B;EAEpDK,YAAYA,CAACC,KAAS;IACpB,IAAI,CAACF,YAAY,GAACE,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;EACzC;EAEMC,UAAUA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACd,IAAG,CAACD,KAAI,CAACN,YAAY,EAAC;QACpB;;MAEF,IAAG;QACD,MAAMQ,QAAQ,SAASF,KAAI,CAACP,cAAc,CAACU,MAAM,CAACH,KAAI,CAACN,YAAY,CAAC;QACpEM,KAAI,CAACV,OAAO,GAAGY,QAAQ,CAACE,OAAO;OAChC,CAAC,OAAOC,KAAK,EAAE;QACdL,KAAI,CAACV,OAAO,GAAG,kCAAkC;;IAClD;EACH;;AApBWC,YAAY,C;mBAAZA,YAAY,EAAAR,EAAA,CAAAuB,iBAAA,CAAAC,EAAA,CAAAC,cAAA;AAAA;AAAZjB,YAAY,C;QAAZA,YAAY;EAAAkB,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,sBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCPzBhC,EAAA,CAAAC,cAAA,aAAoB;MACdD,EAAA,CAAAE,MAAA,sBAAe;MAAAF,EAAA,CAAAG,YAAA,EAAK;MACxBH,EAAA,CAAAC,cAAA,eAAmD;MAAhCD,EAAA,CAAAkC,UAAA,oBAAAC,8CAAAC,MAAA;QAAA,OAAUH,GAAA,CAAArB,YAAA,CAAAwB,MAAA,CAAoB;MAAA,EAAC;MAAlDpC,EAAA,CAAAG,YAAA,EAAmD;MACnDH,EAAA,CAAAC,cAAA,gBAA+B;MAAvBD,EAAA,CAAAkC,UAAA,mBAAAG,8CAAA;QAAA,OAASJ,GAAA,CAAAjB,UAAA,EAAY;MAAA,EAAC;MAAChB,EAAA,CAAAE,MAAA,aAAM;MAAAF,EAAA,CAAAG,YAAA,EAAS;MAC9CH,EAAA,CAAAsC,UAAA,IAAAC,2BAAA,iBAAwC;MAC1CvC,EAAA,CAAAG,YAAA,EAAM;;;MADEH,EAAA,CAAAI,SAAA,GAAa;MAAbJ,EAAA,CAAAwC,UAAA,SAAAP,GAAA,CAAA1B,OAAA,CAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}